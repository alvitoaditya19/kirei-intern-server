<script>
  setInterval(getDataLampu, 1000);
  setInterval(getDataSuhu, 1000);
  setInterval(getDataKelembapanTanah, 1000);
  setInterval(getwaterlevel, 1000);
  setInterval(getkeruhAir, 1000);

  function getDataLampu() {
    $.ajax({
      type: "GET",
      headers: {
        "Content-Type": "application/json",
      },
      url: "https://kirei-intern-server.herokuapp.com/api/v1/lampu/lampu",
      success: function (data) {
        $("#lampu1").text(data.data[0].lampu1 ?? "No Data");
        $("#lampu2").text(data.data[0].lampu2 ?? "No Data");
      },
    });
  }

  function getDataSuhu() {
    $.ajax({
      type: "GET",
      headers: {
        "Content-Type": "application/json",
      },
      url: "https://kirei-intern-server.herokuapp.com/api/v1/suhu",
      success: function (data) {
        $("#suhuCelcius").text(data.data[0].celcius ?? "No Data");
        $("#humidity").text(data.data[0].humidity ?? "No Data");
        console.log(data.data.humidity)
      },
    });
  }

  function getDataKelembapanTanah() {
    $.ajax({
      type: "GET",
      headers: {
        "Content-Type": "application/json",
      },
      url: "https://kirei-intern-server.herokuapp.com/api/v1/tanah",
      success: function (data) {
        $("#tanah").text(data.data[0].kelembapanTanah ?? "No Data");
      },
    });
  }

  function getwaterlevel() {
    $.ajax({
      type: "GET",
      headers: {
        "Content-Type": "application/json",
      },
      url: "https://kirei-intern-server.herokuapp.com/api/v1/water",
      success: function (data) {
        $("#waterlevel").text(parseFloat(data.data[0].waterlevel ?? "No Data").toPrecision(3));
      },
    });
  }

  function getkeruhAir() {
    $.ajax({
      type: "GET",
      headers: {
        "Content-Type": "application/json",
      },
      url: "https://kirei-intern-server.herokuapp.com/api/v1/keruhair",
      success: function (dataaa) {
        $("#kekeruhanAir").text(dataaa.data[0].kekeruhanAir ?? "No Data");
      },
    });
  }
</script>
